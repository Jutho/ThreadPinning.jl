<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · ThreadPinning.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="ThreadPinning.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">ThreadPinning.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">ThreadPinning</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/ex_pinning_julia_threads/">Pinning Julia Threads</a></li><li><a class="tocitem" href="../../examples/ex_blas/">Autochecking BLAS Thread Settings</a></li><li><a class="tocitem" href="../../examples/ex_core2core_latency/">Measuring Core-to-Core Latency</a></li><li><a class="tocitem" href="../../examples/ex_external/">External Pinning Tools</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Explanations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../explanations/why/">Why Pin Julia Threads?</a></li><li><a class="tocitem" href="../../explanations/linux/">Why only Linux?</a></li><li><a class="tocitem" href="../../explanations/blas/">Julia Threads + BLAS Threads</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">References</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#References-Pinning"><span>References - Pinning</span></a></li><li><a class="tocitem" href="#References-Querying"><span>References - Querying</span></a></li></ul></li><li><a class="tocitem" href="../blaslapack/">BLAS/LAPACK</a></li><li><a class="tocitem" href="../latency/">Latency</a></li><li><a class="tocitem" href="../libX/">LibX</a></li><li><a class="tocitem" href="../likwidpin/">Likwid-Pin</a></li><li><a class="tocitem" href="../prefs/">Preferences</a></li><li><a class="tocitem" href="../utility/">Utility</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">References</a></li><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/main/docs/src/refs/api.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#ThreadPinning.core"><code>ThreadPinning.core</code></a></li><li><a href="#ThreadPinning.cpuids_all-Tuple{}"><code>ThreadPinning.cpuids_all</code></a></li><li><a href="#ThreadPinning.cpuids_per_core-Tuple{}"><code>ThreadPinning.cpuids_per_core</code></a></li><li><a href="#ThreadPinning.cpuids_per_node-Tuple{}"><code>ThreadPinning.cpuids_per_node</code></a></li><li><a href="#ThreadPinning.cpuids_per_numa-Tuple{}"><code>ThreadPinning.cpuids_per_numa</code></a></li><li><a href="#ThreadPinning.cpuids_per_socket-Tuple{}"><code>ThreadPinning.cpuids_per_socket</code></a></li><li><a href="#ThreadPinning.get_affinity_mask-Tuple{Any}"><code>ThreadPinning.get_affinity_mask</code></a></li><li><a href="#ThreadPinning.get_cpuids_from_affinity_mask-Tuple{Any}"><code>ThreadPinning.get_cpuids_from_affinity_mask</code></a></li><li><a href="#ThreadPinning.getcpuid-Tuple{}"><code>ThreadPinning.getcpuid</code></a></li><li><a href="#ThreadPinning.getcpuid-Tuple{Integer}"><code>ThreadPinning.getcpuid</code></a></li><li><a href="#ThreadPinning.getcpuids-Tuple{}"><code>ThreadPinning.getcpuids</code></a></li><li><a href="#ThreadPinning.hyperthreading_is_enabled-Tuple{}"><code>ThreadPinning.hyperthreading_is_enabled</code></a></li><li><a href="#ThreadPinning.ishyperthread-Tuple{Integer}"><code>ThreadPinning.ishyperthread</code></a></li><li><a href="#ThreadPinning.ncores-Tuple{}"><code>ThreadPinning.ncores</code></a></li><li><a href="#ThreadPinning.ncores_per_numa-Tuple{}"><code>ThreadPinning.ncores_per_numa</code></a></li><li><a href="#ThreadPinning.ncores_per_socket-Tuple{}"><code>ThreadPinning.ncores_per_socket</code></a></li><li><a href="#ThreadPinning.ncputhreads-Tuple{}"><code>ThreadPinning.ncputhreads</code></a></li><li><a href="#ThreadPinning.ncputhreads_per_core-Tuple{}"><code>ThreadPinning.ncputhreads_per_core</code></a></li><li><a href="#ThreadPinning.ncputhreads_per_numa-Tuple{}"><code>ThreadPinning.ncputhreads_per_numa</code></a></li><li><a href="#ThreadPinning.ncputhreads_per_socket-Tuple{}"><code>ThreadPinning.ncputhreads_per_socket</code></a></li><li><a href="#ThreadPinning.nnuma-Tuple{}"><code>ThreadPinning.nnuma</code></a></li><li><a href="#ThreadPinning.node"><code>ThreadPinning.node</code></a></li><li><a href="#ThreadPinning.nsockets-Tuple{}"><code>ThreadPinning.nsockets</code></a></li><li><a href="#ThreadPinning.numa"><code>ThreadPinning.numa</code></a></li><li><a href="#ThreadPinning.numas"><code>ThreadPinning.numas</code></a></li><li><a href="#ThreadPinning.pinthread-Tuple{Integer, Integer}"><code>ThreadPinning.pinthread</code></a></li><li><a href="#ThreadPinning.pinthread-Tuple{Integer}"><code>ThreadPinning.pinthread</code></a></li><li><a href="#ThreadPinning.pinthreads"><code>ThreadPinning.pinthreads</code></a></li><li><a href="#ThreadPinning.pinthreads_mpi-Tuple{Symbol, Vararg{Any}}"><code>ThreadPinning.pinthreads_mpi</code></a></li><li><a href="#ThreadPinning.print_affinity_masks-Tuple{}"><code>ThreadPinning.print_affinity_masks</code></a></li><li><a href="#ThreadPinning.socket"><code>ThreadPinning.socket</code></a></li><li><a href="#ThreadPinning.sockets"><code>ThreadPinning.sockets</code></a></li><li><a href="#ThreadPinning.threadinfo-Tuple{}"><code>ThreadPinning.threadinfo</code></a></li><li><a href="#ThreadPinning.unpinthread-Tuple{Integer}"><code>ThreadPinning.unpinthread</code></a></li><li><a href="#ThreadPinning.unpinthreads-Tuple{}"><code>ThreadPinning.unpinthreads</code></a></li></ul><h2 id="References-Pinning"><a class="docs-heading-anchor" href="#References-Pinning">References - Pinning</a><a id="References-Pinning-1"></a><a class="docs-heading-anchor-permalink" href="#References-Pinning" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.pinthread-Tuple{Integer, Integer}" href="#ThreadPinning.pinthread-Tuple{Integer, Integer}"><code>ThreadPinning.pinthread</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pinthread(threadid::Integer, cpuid::Integer; kwargs...)</code></pre><p>Pin the given Julia thread (<code>threadid</code>) to the CPU with ID <code>cpuid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/pinning.jl#L16-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.pinthread-Tuple{Integer}" href="#ThreadPinning.pinthread-Tuple{Integer}"><code>ThreadPinning.pinthread</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pinthread(cpuid::Integer; warn::Bool = true)</code></pre><p>Pin the calling Julia thread to the CPU with id <code>cpuid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/pinning.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.pinthreads" href="#ThreadPinning.pinthreads"><code>ThreadPinning.pinthreads</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">pinthreads(cpuids[; nthreads=Threads.nthreads(), force=true, warn=true])</code></pre><p>Pin the first <code>min(length(cpuids), nthreads)</code> Julia threads to an explicit or implicit list of CPU IDs. The latter can be specified in three ways:</p><ol><li>explicitly (e.g. <code>0:3</code> or <code>[0,12,4]</code>),</li><li>by passing one of several predefined symbols (e.g. <code>:cores</code> or <code>:sockets</code>),</li><li>by providing a logical specification via helper functions (e.g. <code>node</code> and <code>socket</code>).</li></ol><p>See below for more information.</p><p>If <code>force=false</code> the <code>pinthreads</code> call will only pin threads if this is the first attempt to pin threads with ThreadPinning.jl. Otherwise it will be a no-op. This may be particularly useful for packages that merely want to specify a &quot;default pinning&quot;.</p><p>The option <code>warn</code> toggles general warnings, such as unwanted interference with BLAS thread settings.</p><p><strong>1) Explicit</strong></p><p>Simply provide an <code>AbstractVector{&lt;:Integer}</code> of CPU IDs. The latter are expected to be the &quot;physical&quot; ids, i.e. as provided by <code>lscpu</code>, and thus start at zero!</p><p><strong>2) Predefined Symbols</strong></p><ul><li><code>:cputhreads</code> or <code>:compact</code>: successively pin to all available CPU-threads.</li><li><code>:cores</code>: spread threads across all available cores, only use hyperthreads if necessary.</li><li><code>:sockets</code>: spread threads across sockets (round-robin), only use hyperthreads if             necessary. Set <code>compact=true</code> to get compact pinning within each socket.</li><li><code>:numa</code>: spread threads across NUMA/memory domains (round-robin), only use hyperthreads          if necessary. Set <code>compact=true</code> to get compact pinning within each NUMA/memory          domain.</li><li><code>:random</code>: pin threads randomly to CPU-threads</li><li><code>:current</code>: pin threads to the CPU-threads they are currently running on</li><li><code>:firstn</code>: pin threads to CPU-threads in &quot;physical&quot; order (as specified by lscpu).</li><li><code>:affinitymask</code>: pin threads to different CPU-threads in accordance with their                  affinity mask (must be the same for all of them). By default,                  <code>hyperthreads_last=true</code>.</li></ul><p><strong>3) Logical Specification</strong></p><p>The functions <a href="#ThreadPinning.node"><code>node</code></a>, <a href="#ThreadPinning.socket"><code>socket</code></a>, <a href="#ThreadPinning.numa"><code>numa</code></a>, and <a href="#ThreadPinning.core"><code>core</code></a> can be used to to specify CPU IDs of/within a certain domain. Moreover, the functions <a href="#ThreadPinning.sockets"><code>sockets</code></a> and <a href="#ThreadPinning.numas"><code>numas</code></a> can be used to express a round-robin scatter policy between sockets or NUMA domains, respectively.</p><p><em>Examples (domains):</em></p><ul><li><code>pinthreads(socket(1, 1:3))</code> # pin to the first 3 cores in the first socket</li><li><code>pinthreads(socket(1, 1:3; compact=true))</code> # pin to the first 3 CPU-threads in the first socket</li><li><code>pinthreads(numa(2, [2,4,6]))</code> # pin to the second, the fourth, and the sixth cores in the second NUMA/memory domain</li><li><code>pinthreads(node(ncores():-1:1))</code> # pin threads to cores in reversing order (starting at the end of the node)</li><li><code>pinthreads(sockets())</code> # scatter threads between sockets, cores before hyperthreads</li></ul><p>Different domains can be concatenated by providing them in a vector or as separate arguments to <code>pinthreads</code>.</p><p><em>Examples (concatenation):</em></p><ul><li><code>pinthreads([socket(1, 1:3), numa(2, 4:6)])</code></li><li><code>pinthreads(socket(1, 1:3), numa(2, 4:6))</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/pinning.jl#L26-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.unpinthread-Tuple{Integer}" href="#ThreadPinning.unpinthread-Tuple{Integer}"><code>ThreadPinning.unpinthread</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Unpins the Julia thread with the given <code>threadid</code> by setting the affinity mask to all unity. Afterwards, the OS is free to move the Julia thread from one CPU thread to another.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/pinning.jl#L173-L176">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.unpinthreads-Tuple{}" href="#ThreadPinning.unpinthreads-Tuple{}"><code>ThreadPinning.unpinthreads</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Unpins all Julia threads by setting the affinity mask of all threads to all unity. Afterwards, the OS is free to move any Julia thread from one CPU thread to another.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/pinning.jl#L159-L162">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.pinthreads_mpi-Tuple{Symbol, Vararg{Any}}" href="#ThreadPinning.pinthreads_mpi-Tuple{Symbol, Vararg{Any}}"><code>ThreadPinning.pinthreads_mpi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pinthreads_mpi(symbol, rank, nranks; nthreads_per_rank, compact, kwargs...)</code></pre><p>Pin MPI ranks, that is, their respective Julia thread(s), to (subsets of) domains (e.g. sockets or memory domains). Specifically, when calling this function on all MPI ranks, the latter will be distributed in a round-robin fashion among the specified domains such that their Julia threads are pinned to non-overlapping ranges of CPU-threads within the domain.</p><p>Valid options for <code>symbol</code> are <code>:sockets</code> and <code>:numa</code>.</p><p>If <code>compact=false</code> (default), physical cores are occupied before hyperthreads. Otherwise, CPU-cores - with potentially multiple CPU-threads - are filled up one after another (compact pinning).</p><p>The keyword argument <code>nthreads_per_rank</code> (default <code>Threads.nthreads()</code>) can be used to pin only a subset of the available Julia threads per MPI rank.</p><p><strong>Note:</strong> As per usual for MPI, <code>rank</code> starts at zero.</p><p><em>Example:</em></p><pre><code class="nohighlight hljs">using ThreadPinning
using MPI
comm = MPI.COMM_WORLD
nranks = MPI.Comm_size(comm)
rank = MPI.Comm_rank(comm)
pinthreads_mpi(:sockets, rank, nranks)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/pinning_mpi.jl#L1-L32">source</a></section></article><h2 id="References-Querying"><a class="docs-heading-anchor" href="#References-Querying">References - Querying</a><a id="References-Querying-1"></a><a class="docs-heading-anchor-permalink" href="#References-Querying" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.core" href="#ThreadPinning.core"><code>ThreadPinning.core</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Represents the CPU ID domain of core <code>i</code> (logical index, starts at 1). Uses compact ordering by default. Set <code>shuffle=true</code> to randomize.</p><p>Optional second argument: Logical indices to select a subset of the domain.</p><p>To be used as input argument for <a href="#ThreadPinning.pinthreads"><code>pinthreads</code></a>. What it actually returns is an implementation detail!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L157-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.cpuids_all-Tuple{}" href="#ThreadPinning.cpuids_all-Tuple{}"><code>ThreadPinning.cpuids_all</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns a <code>Vector{Int}</code> which lists all valid CPUIDs. There is no guarantee about the order except that it is the same as in <code>lscpu</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L99-L101">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.cpuids_per_core-Tuple{}" href="#ThreadPinning.cpuids_per_core-Tuple{}"><code>ThreadPinning.cpuids_per_core</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns a <code>Vector{Vector{Int}}</code> which indicates the CPUIDs associated with the available physical cores</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L102-L104">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.cpuids_per_node-Tuple{}" href="#ThreadPinning.cpuids_per_node-Tuple{}"><code>ThreadPinning.cpuids_per_node</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns a <code>Vector{Int}</code> which indicates the CPUIDs associated with the available node. Physical cores come first. Set <code>compact=true</code> to get compact ordering.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L131-L134">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.cpuids_per_numa-Tuple{}" href="#ThreadPinning.cpuids_per_numa-Tuple{}"><code>ThreadPinning.cpuids_per_numa</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns a <code>Vector{Vector{Int}}</code> which indicates the CPUIDs associated with the available NUMA domains. Within each memory domain, physical cores come first. Set <code>compact=true</code> to get compact ordering instead.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L105-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.cpuids_per_socket-Tuple{}" href="#ThreadPinning.cpuids_per_socket-Tuple{}"><code>ThreadPinning.cpuids_per_socket</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns a <code>Vector{Vector{Int}}</code> which indicates the CPUIDs associated with the available CPU sockets. Within each socket, physical cores come first. Set <code>compact=true</code> to get compact ordering instead.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L118-L122">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.get_affinity_mask-Tuple{Any}" href="#ThreadPinning.get_affinity_mask-Tuple{Any}"><code>ThreadPinning.get_affinity_mask</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the affinity mask of the given Julia Threads</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L56-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.get_cpuids_from_affinity_mask-Tuple{Any}" href="#ThreadPinning.get_cpuids_from_affinity_mask-Tuple{Any}"><code>ThreadPinning.get_cpuids_from_affinity_mask</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the CPU-thread IDs associated with the given affinity mask.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.getcpuid-Tuple{Integer}" href="#ThreadPinning.getcpuid-Tuple{Integer}"><code>ThreadPinning.getcpuid</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the ID of the CPU thread on which the given Julia thread (<code>threadid</code>) is currently running.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L8-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.getcpuid-Tuple{}" href="#ThreadPinning.getcpuid-Tuple{}"><code>ThreadPinning.getcpuid</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the ID of the CPU thread on which the calling thread is currently running.</p><p>See <code>sched_getcpu</code> for more information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.getcpuids-Tuple{}" href="#ThreadPinning.getcpuids-Tuple{}"><code>ThreadPinning.getcpuids</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the IDs of the CPU-threads on which the Julia threads are currently running.</p><p>See <code>getcpuid</code> for more information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.hyperthreading_is_enabled-Tuple{}" href="#ThreadPinning.hyperthreading_is_enabled-Tuple{}"><code>ThreadPinning.hyperthreading_is_enabled</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Check whether hyperthreading is enabled.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.ishyperthread-Tuple{Integer}" href="#ThreadPinning.ishyperthread-Tuple{Integer}"><code>ThreadPinning.ishyperthread</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Check whether the given CPU-thread is a hyperthread (i.e. the second CPU-thread associated with a CPU-core).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L75-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.ncores-Tuple{}" href="#ThreadPinning.ncores-Tuple{}"><code>ThreadPinning.ncores</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of cores (i.e. excluding hyperthreads)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.ncores_per_numa-Tuple{}" href="#ThreadPinning.ncores_per_numa-Tuple{}"><code>ThreadPinning.ncores_per_numa</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of CPU-cores per NUMA domain</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L94">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.ncores_per_socket-Tuple{}" href="#ThreadPinning.ncores_per_socket-Tuple{}"><code>ThreadPinning.ncores_per_socket</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of CPU-cores per socket</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.ncputhreads-Tuple{}" href="#ThreadPinning.ncputhreads-Tuple{}"><code>ThreadPinning.ncputhreads</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of CPU-threads</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.ncputhreads_per_core-Tuple{}" href="#ThreadPinning.ncputhreads_per_core-Tuple{}"><code>ThreadPinning.ncputhreads_per_core</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of CPU-threads per core</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.ncputhreads_per_numa-Tuple{}" href="#ThreadPinning.ncputhreads_per_numa-Tuple{}"><code>ThreadPinning.ncputhreads_per_numa</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of CPU-threads per NUMA domain</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.ncputhreads_per_socket-Tuple{}" href="#ThreadPinning.ncputhreads_per_socket-Tuple{}"><code>ThreadPinning.ncputhreads_per_socket</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of CPU-threads per socket</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.nnuma-Tuple{}" href="#ThreadPinning.nnuma-Tuple{}"><code>ThreadPinning.nnuma</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of NUMA nodes</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L82">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.node" href="#ThreadPinning.node"><code>ThreadPinning.node</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Represents the CPU ID domain of the entire node/system. By default, cores will be used first and hyperthreads will only be used if necessary. Provide <code>compact=true</code> to get compact ordering instead. Set <code>shuffle=true</code> to randomize. Set <code>shuffle=true</code> to randomize.</p><p>Optional first argument: Logical indices to select a subset of the domain.</p><p>To be used as input argument for <a href="#ThreadPinning.pinthreads"><code>pinthreads</code></a>. What it actually returns is an implementation detail!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L204-L213">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.nsockets-Tuple{}" href="#ThreadPinning.nsockets-Tuple{}"><code>ThreadPinning.nsockets</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of CPU sockets</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L84">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.numa" href="#ThreadPinning.numa"><code>ThreadPinning.numa</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Represents the CPU ID domain of NUMA/memory domain <code>i</code> (logical index, starts at 1). By default, cores will be used first and hyperthreads will only be used if necessary. Provide <code>compact=true</code> to get compact ordering instead. Set <code>shuffle=true</code> to randomize.</p><p>Optional second argument: Logical indices to select a subset of the domain.</p><p>To be used as input argument for <a href="#ThreadPinning.pinthreads"><code>pinthreads</code></a>. What it actually returns is an implementation detail!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L172-L181">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.numas" href="#ThreadPinning.numas"><code>ThreadPinning.numas</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Represents the CPU IDs of the system as obtained by a round-robin scattering between NUMA/memory domain. By default, within each memory domain, cores will be used first and hyperthreads will only be used if necessary. Provide <code>compact=true</code> to get compact ordering within each memory domain. Set <code>shuffle=true</code> to randomize.</p><p>Optional first argument: Logical indices to select a subset of the domain.</p><p>To be used as input argument for <a href="#ThreadPinning.pinthreads"><code>pinthreads</code></a>. What it actually returns is an implementation detail!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L244-L254">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.print_affinity_masks-Tuple{}" href="#ThreadPinning.print_affinity_masks-Tuple{}"><code>ThreadPinning.print_affinity_masks</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Print the affinity masks of all Julia threads.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L28-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.socket" href="#ThreadPinning.socket"><code>ThreadPinning.socket</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Represents the CPU ID domain of socket <code>i</code> (logical index, starts at 1). By default, cores will be used first and hyperthreads will only be used if necessary. Provide <code>compact=true</code> to get compact ordering instead. Set <code>shuffle=true</code> to randomize.</p><p>Optional second argument: Logical indices to select a subset of the domain.</p><p>To be used as input argument for <a href="#ThreadPinning.pinthreads"><code>pinthreads</code></a>. What it actually returns is an implementation detail!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L188-L197">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.sockets" href="#ThreadPinning.sockets"><code>ThreadPinning.sockets</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Represents the CPU IDs of the system as obtained by a round-robin scattering between sockets. By default, within each socket, cores will be used first and hyperthreads will only be used if necessary. Provide <code>compact=true</code> to get compact ordering within each socket. Set <code>shuffle=true</code> to randomize.</p><p>Optional first argument: Logical indices to select a subset of the domain.</p><p>To be used as input argument for <a href="#ThreadPinning.pinthreads"><code>pinthreads</code></a>. What it actually returns is an implementation detail!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/querying.jl#L225-L235">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ThreadPinning.threadinfo-Tuple{}" href="#ThreadPinning.threadinfo-Tuple{}"><code>ThreadPinning.threadinfo</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Print information about Julia threads, e.g. on which CPU-threads (i.e. cores if hyperthreading is disabled) they are running.</p><p>Keyword arguments:</p><ul><li><code>color</code> (default: <code>true</code>): Toggle between colored and black-and-white output.</li><li><code>blocksize</code> (default: <code>32</code>): Wrap to a new line after <code>blocksize</code> many CPU-threads.</li><li><code>hyperthreading</code> (default: <code>true</code>): If <code>true</code>, we (try to) highlight CPU-threads associated with hyperthreading in the <code>color=true</code> output.</li><li><code>blas</code> (default: <code>false</code>): Show information about BLAS threads as well.</li><li><code>hints</code> (default: <code>false</code>): Give some hints about how to improve the threading related settings.</li><li><code>groupby</code> (default: <code>:sockets</code>): Options are <code>:sockets</code>, <code>:numa</code>, <code>:cores</code>, or <code>:none</code>.</li><li><code>masks</code> (default: <code>false</code>): Show the affinity masks of all Julia threads.</li><li><code>threadpool</code> (default: <code>:all</code>): Only consider Julia threads in the given thread pool.                                 Supported values are <code>:all</code>, <code>:default</code>, and                                 <code>:interactive</code>. Only works for Julia &gt;= 1.9.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/carstenbauer/ThreadPinning.jl/blob/5bf72317e456c6439484ed672821ebcd0c3cd025/src/threadinfo.jl#L1-L18">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../explanations/blas/">« Julia Threads + BLAS Threads</a><a class="docs-footer-nextpage" href="../blaslapack/">BLAS/LAPACK »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Thursday 9 February 2023 15:50">Thursday 9 February 2023</span>. Using Julia version 1.8.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
